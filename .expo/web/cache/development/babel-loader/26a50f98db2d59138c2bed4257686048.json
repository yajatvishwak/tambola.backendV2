{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/media/yajat-vishwakk/MainHDD/Coding/Projects/TambolaV2/frontend/Tambola/app/Game/Game.js\";\nimport React, { Component, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport env from \"../../variable\";\nimport makeaCall from \"../../utility/networkCall\";\nimport Previous from \"./components/Previous\";\nimport Calling from \"./components/Calling\";\nimport Bar from \"./components/Bar\";\nimport Ticket from \"./components/Ticket\";\nimport Claim from \"./components/Claim\";\nvar roomID = \"Room1\";\nvar username = \"yajat\";\nvar category = [];\nvar ticket = [];\n\nvar io = require(\"socket.io-client\");\n\nvar socket = io(env.apiUrl);\n\nfunction connectSocket(username, room) {\n  socket.on(\"connect\", function () {\n    console.log(\"Connected to the WS server\");\n    socket.emit(\"room\", {\n      username: username,\n      room: room\n    });\n  });\n}\n\nmakeaCall(\"POST\", env.apiUrl + \"/game/getCategoryandTicket\", {\n  roomID: roomID,\n  username: username\n}).then(function (res) {\n  if (res == null) {\n    alert(\"There's some network issue. Please check your network or contact the admin. Error code: NE-catTic\");\n  } else {\n    category = res.category;\n    ticket = res.ticket[0].ticket;\n  }\n});\nconnectSocket(username, roomID);\n\nfunction Game(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      claimModal = _useState2[0],\n      setclaimModal = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mark = _useState4[0],\n      setMark = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      calling = _useState6[0],\n      setcalling = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      disconnect = _useState8[0],\n      setdisconnect = _useState8[1];\n\n  var _useState9 = useState({}),\n      _useState10 = _slicedToArray(_useState9, 2),\n      winner = _useState10[0],\n      setwinner = _useState10[1];\n\n  socket.on(\"winner\", function (m) {\n    console.log(m);\n    var message = m.message;\n    alert(message);\n  });\n  socket.on(\"broadcast\", function (m) {\n    handleCallingNumber(m);\n  });\n  socket.on(\"kickUser\", function () {\n    console.log(\"You have been disconnected by Admin\");\n    setdisconnect(true);\n  });\n\n  var handleClaimModal = function handleClaimModal() {\n    setclaimModal(!claimModal);\n  };\n\n  var handleCallingNumber = function handleCallingNumber(m) {\n    setcalling(m);\n  };\n\n  var handleWinners = function handleWinners(winner) {\n    setwinner(winner);\n  };\n\n  var updateMarked = function updateMarked(data) {\n    setMark(data);\n    console.log(mark);\n  };\n\n  var generateTicket = function generateTicket() {\n    var arr = [[0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0]];\n\n    for (var i = 0; i < 3; i++) {\n      for (var j = 0; j < 9; j++) {\n        if (mark.indexOf(ticket[i][j]) > -1 && mark[mark.indexOf(ticket[i][j])] === ticket[i][j]) {\n          arr[i][j] = ticket[i][j];\n        } else if (mark.indexOf(ticket[i][j]) === -1 && ticket[i][j] !== 0) {\n          arr[i][j] = -1;\n        } else {\n          continue;\n        }\n      }\n    }\n\n    return arr;\n  };\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: false,\n    visible: claimModal,\n    onRequestClose: function onRequestClose() {\n      setclaimModal(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, React.createElement(Claim, {\n    category: category,\n    ticket: generateTicket(),\n    updateWinner: handleWinners,\n    close: handleClaimModal,\n    username: username,\n    roomID: roomID,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.prevContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, React.createElement(Previous, {\n    arr: calling.done || [0, 0, 0, 0, 0],\n    style: styles.previous,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, React.createElement(StatusBar, {\n    hidden: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: styles.callingContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }), React.createElement(Calling, {\n    number: calling.number || 0,\n    style: styles.calling,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }), React.createElement(Ticket, {\n    style: styles.rect,\n    ticket: ticket,\n    updateMark: updateMarked,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: styles.buttonContainer2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, React.createElement(Bar, {\n    clickClaimModal: handleClaimModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }))));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 5,\n    backgroundColor: \"rgba(227,214,214,1)\"\n  },\n  button: {\n    width: 120,\n    height: 48,\n    backgroundColor: \"rgba(242,163,101,1)\",\n    borderRadius: 12,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  buttonContainer: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    justifyContent: \"space-evenly\"\n  },\n  buttonContainer2: {\n    flex: 1,\n    justifyContent: \"flex-end\",\n    marginBottom: 30\n  },\n  rect: {\n    width: 400,\n    height: 200,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 10,\n    alignSelf: \"center\",\n    marginTop: 30\n  },\n  previous: {\n    height: 80,\n    width: \"100%\",\n    marginTop: 10\n  },\n  prevContainer: {\n    alignSelf: \"center\",\n    flex: 1\n  },\n  calling: {\n    height: 170,\n    width: 170,\n    alignSelf: \"center\"\n  },\n  callingContainer: {\n    justifyContent: \"center\",\n    alignContent: \"center\",\n    margin: 30\n  }\n});\nexport default Game;","map":{"version":3,"sources":["/media/yajat-vishwakk/MainHDD/Coding/Projects/TambolaV2/frontend/Tambola/app/Game/Game.js"],"names":["React","Component","useState","env","makeaCall","Previous","Calling","Bar","Ticket","Claim","roomID","username","category","ticket","io","require","socket","apiUrl","connectSocket","room","on","console","log","emit","then","res","alert","Game","props","claimModal","setclaimModal","mark","setMark","calling","setcalling","disconnect","setdisconnect","winner","setwinner","m","message","handleCallingNumber","handleClaimModal","handleWinners","updateMarked","data","generateTicket","arr","i","j","indexOf","styles","prevContainer","done","previous","container","callingContainer","number","rect","buttonContainer2","StyleSheet","create","flex","backgroundColor","button","width","height","borderRadius","justifyContent","alignItems","buttonContainer","flexDirection","marginTop","marginBottom","alignSelf","alignContent","margin"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport { StyleSheet, View, StatusBar, Text, Modal, Alert } from \"react-native\";\n\nimport env from \"../../variable\";\nimport makeaCall from \"../../utility/networkCall\";\n\nimport Previous from \"./components/Previous\";\nimport Calling from \"./components/Calling\";\nimport Bar from \"./components/Bar\";\nimport Ticket from \"./components/Ticket\";\nimport Claim from \"./components/Claim\";\n\nvar roomID = \"Room1\";\nvar username = \"yajat\";\nvar category = [];\nvar ticket = [];\n\nconst io = require(\"socket.io-client\");\nconst socket = io(env.apiUrl);\n\nfunction connectSocket(username, room) {\n  socket.on(\"connect\", function () {\n    console.log(\"Connected to the WS server\");\n    socket.emit(\"room\", { username: username, room: room });\n  });\n}\n\n// Pregame functions\nmakeaCall(\"POST\", env.apiUrl + \"/game/getCategoryandTicket\", {\n  roomID: roomID,\n  username: username,\n}).then((res) => {\n  if (res == null) {\n    alert(\n      \"There's some network issue. Please check your network or contact the admin. Error code: NE-catTic\"\n    );\n  } else {\n    category = res.category;\n    ticket = res.ticket[0].ticket;\n  }\n});\nconnectSocket(username, roomID);\n\nfunction Game(props) {\n  const [claimModal, setclaimModal] = useState(false);\n  const [mark, setMark] = useState([]);\n  const [calling, setcalling] = useState({});\n  const [disconnect, setdisconnect] = useState(false);\n  const [winner, setwinner] = useState({});\n  //Websocket Connection\n\n  socket.on(\"winner\", (m) => {\n    console.log(m);\n    var message = m.message;\n    alert(message);\n  });\n\n  socket.on(\"broadcast\", (m) => {\n    handleCallingNumber(m);\n  });\n  socket.on(\"kickUser\", () => {\n    console.log(\"You have been disconnected by Admin\");\n    setdisconnect(true);\n  });\n\n  // handling state function\n  const handleClaimModal = () => {\n    setclaimModal(!claimModal);\n  };\n  const handleCallingNumber = (m) => {\n    //console.log(\"The number is \" + num);\n    setcalling(m);\n  };\n  const handleWinners = (winner) => {\n    setwinner(winner);\n  };\n  const updateMarked = (data) => {\n    setMark(data);\n    console.log(mark);\n  };\n  // console.log(category);\n  // console.log(ticket);\n  const generateTicket = () => {\n    var arr = [\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\n    ];\n    for (var i = 0; i < 3; i++) {\n      for (var j = 0; j < 9; j++) {\n        if (\n          mark.indexOf(ticket[i][j]) > -1 &&\n          mark[mark.indexOf(ticket[i][j])] === ticket[i][j]\n        ) {\n          arr[i][j] = ticket[i][j];\n        } else if (mark.indexOf(ticket[i][j]) === -1 && ticket[i][j] !== 0) {\n          arr[i][j] = -1;\n        } else {\n          continue;\n        }\n      }\n    }\n    //console.log(arr);\n    return arr;\n    // the ticket in 3x9 format is stored in arr\n  };\n\n  return (\n    <React.Fragment>\n      <Modal\n        animationType=\"fade\"\n        transparent={false}\n        visible={claimModal}\n        onRequestClose={() => {\n          setclaimModal(false);\n        }}\n      >\n        <Claim\n          category={category}\n          ticket={generateTicket()}\n          updateWinner={handleWinners}\n          close={handleClaimModal}\n          username={username}\n          roomID={roomID}\n        />\n      </Modal>\n\n      <View style={styles.prevContainer}>\n        <Previous\n          arr={calling.done || [0, 0, 0, 0, 0]}\n          style={styles.previous}\n        ></Previous>\n      </View>\n      <View style={styles.container}>\n        <StatusBar hidden />\n        <View style={styles.callingContainer}></View>\n        <Calling number={calling.number || 0} style={styles.calling}></Calling>\n        <Ticket style={styles.rect} ticket={ticket} updateMark={updateMarked} />\n        <View style={styles.buttonContainer2}>\n          <Bar clickClaimModal={handleClaimModal} />\n        </View>\n      </View>\n    </React.Fragment>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 5,\n    backgroundColor: \"rgba(227,214,214,1)\",\n  },\n  button: {\n    width: 120,\n    height: 48,\n    backgroundColor: \"rgba(242,163,101,1)\",\n    borderRadius: 12,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  buttonContainer: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    justifyContent: \"space-evenly\",\n  },\n  buttonContainer2: {\n    flex: 1,\n    justifyContent: \"flex-end\",\n    marginBottom: 30,\n  },\n\n  rect: {\n    width: 400,\n    height: 200,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 10,\n    alignSelf: \"center\",\n    marginTop: 30,\n  },\n  previous: {\n    height: 80,\n    width: \"100%\",\n    marginTop: 10,\n  },\n  prevContainer: {\n    alignSelf: \"center\",\n    flex: 1,\n  },\n  calling: {\n    height: 170,\n    width: 170,\n    alignSelf: \"center\",\n  },\n  callingContainer: {\n    justifyContent: \"center\",\n    alignContent: \"center\",\n    margin: 30,\n  },\n});\n\nexport default Game;\n"]},"metadata":{},"sourceType":"module"}