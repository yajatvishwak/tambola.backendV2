{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/media/yajat-vishwakk/MainHDD/Coding/Projects/TambolaV2/frontend/Tambola/app/Admin/AdminGame.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Board from \"./components/Board\";\nimport Leaderboard from \"./Leaderboard\";\nimport Disconnect from \"./Disconnect\";\nimport InputModal from \"./InputModal\";\nimport env from \"../../variable\";\nimport Global from \"../../utility/Global\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nvar io = require(\"socket.io-client\");\n\nvar axios = require(\"axios\");\n\nfunction AdminGame(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      leaderboardModal = _useState2[0],\n      setleaderboardModal = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      disconnectModal = _useState4[0],\n      setdisconnectModal = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      inputModal = _useState6[0],\n      setinputModal = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      currentCalling = _useState8[0],\n      setCurrentCalling = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      gameOver = _useState10[0],\n      setgameOver = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      done = _useState12[0],\n      setdone = _useState12[1];\n\n  var _useState13 = useState(10),\n      _useState14 = _slicedToArray(_useState13, 2),\n      interval = _useState14[0],\n      setinterval = _useState14[1];\n\n  var navigation = useNavigation();\n\n  var startGame = function startGame() {\n    axios.post(env.apiUrl + \"/game/startGame\", {\n      roomID: Global.admin.roomID,\n      interval: interval || 15\n    }).then(function (response) {\n      if (response === true) {\n        alert(\"Game started!\");\n      } else {\n        alert(\"Game encountered an error\");\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var pauseGame = function pauseGame() {\n    axios.post(env.apiUrl + \"/game/pauseGame\", {\n      roomID: Global.admin.roomID\n    }).then(function (response) {\n      if (response === true) {\n        alert(\"Game paused\");\n      } else {\n        alert(\"Game encountered an error\");\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  useEffect(function () {\n    var socket = io(env.apiUrl);\n\n    function connectSocket(username, room) {\n      socket.on(\"connect\", function () {\n        console.log(\"Connected to the WS server\");\n        socket.emit(\"room\", {\n          username: username,\n          room: room\n        });\n      });\n    }\n\n    connectSocket(\"admin\", Global.admin.roomID);\n    socket.on(\"broadcast\", function (m) {\n      console.log(m);\n      setCurrentCalling(m.number);\n      setgameOver(m.gameOver);\n      setdone(m.done);\n    });\n  }, []);\n\n  var handleLeaderBoard = function handleLeaderBoard() {\n    setleaderboardModal(!leaderboardModal);\n  };\n\n  var handleDisconnect = function handleDisconnect() {\n    setdisconnectModal(!disconnectModal);\n  };\n\n  var handleInputModal = function handleInputModal() {\n    setinputModal(!inputModal);\n  };\n\n  var handleInterval = function handleInterval(text) {\n    setinterval(text);\n  };\n\n  if (gameOver === true) {\n    Global.admin.isAdmin = false;\n    Global.admin.roomID = null;\n  }\n\n  return React.createElement(ScrollView, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: false,\n    visible: leaderboardModal,\n    onRequestClose: function onRequestClose() {\n      setleaderboardModal(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, React.createElement(Leaderboard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  })), React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: false,\n    visible: inputModal,\n    onRequestClose: function onRequestClose() {\n      setinputModal(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, React.createElement(InputModal, {\n    updateInterval: handleInterval,\n    handleInputModal: handleInputModal,\n    startGame: startGame,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  })), React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: false,\n    visible: disconnectModal,\n    onRequestClose: function onRequestClose() {\n      setdisconnectModal(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, React.createElement(Disconnect, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  })), React.createElement(StatusBar, {\n    hidden: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: styles.adminTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, \"Admin Control for \", Global.admin.roomID), React.createElement(Text, {\n    style: styles.adminSubtext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, \"Overview of the on-going game\"), React.createElement(Board, {\n    done: done,\n    style: styles.board,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.textWrap,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.noOfTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, \"Number of participants connected: 50\"), React.createElement(Text, {\n    style: styles.noOfTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, \"Current Calling Number: \", currentCalling, \" \"), React.createElement(Text, {\n    style: styles.noOfTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, \"Gameover: \", gameOver ? \"Yes\" : \"No\", \" \")), React.createElement(View, {\n    style: styles.buttonWrap,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.buttonstart,\n    onPress: handleInputModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, \"Start Game\")), React.createElement(TouchableOpacity, {\n    style: styles.buttonpause,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, \"Pause Game\")), React.createElement(TouchableOpacity, {\n    style: styles.buttonlb,\n    onPress: handleLeaderBoard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }, \"Leaderboard\")), React.createElement(TouchableOpacity, {\n    style: styles.buttondisconnect,\n    onPress: handleDisconnect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, \"Disconnect\"))));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"rgba(227,214,214,1)\"\n  },\n  board: {\n    height: 350,\n    width: 375,\n    padding: 4,\n    marginTop: 14,\n    alignSelf: \"center\"\n  },\n  noOfTitle: {\n    fontFamily: \"roboto-500\",\n    color: \"#121212\",\n    marginLeft: 20,\n    marginTop: 15\n  },\n  textWrap: {\n    marginBottom: 30\n  },\n  adminTitle: {\n    fontFamily: \"roboto-900\",\n    color: \"#121212\",\n    fontSize: 25,\n    marginTop: 50,\n    marginLeft: 14\n  },\n  buttonstart: {\n    backgroundColor: \"rgba(67,205,76,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  buttonpause: {\n    backgroundColor: \"rgba(242,163,101,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  buttonlb: {\n    backgroundColor: \"rgba(242,163,101,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  buttondisconnect: {\n    backgroundColor: \"rgba(208,2,27,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  buttonText: {\n    fontSize: 14,\n    color: \"white\",\n    fontFamily: \"roboto-500\"\n  },\n  buttonWrap: {\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    marginBottom: 15\n  },\n  disconnectButton: {\n    backgroundColor: \"rgba(208,2,27,1)\",\n    borderRadius: 5\n  },\n  stack2: {\n    height: 16,\n    flexDirection: \"row\",\n    marginTop: 10,\n    marginLeft: 48,\n    marginRight: 74\n  },\n  adminSubtext: {\n    fontFamily: \"roboto-regular\",\n    color: \"#121212\",\n    marginTop: 12,\n    marginLeft: 15\n  }\n});\nexport default AdminGame;","map":{"version":3,"sources":["/media/yajat-vishwakk/MainHDD/Coding/Projects/TambolaV2/frontend/Tambola/app/Admin/AdminGame.js"],"names":["React","Component","useState","useEffect","Board","Leaderboard","Disconnect","InputModal","env","Global","useNavigation","io","require","axios","AdminGame","props","leaderboardModal","setleaderboardModal","disconnectModal","setdisconnectModal","inputModal","setinputModal","currentCalling","setCurrentCalling","gameOver","setgameOver","done","setdone","interval","setinterval","navigation","startGame","post","apiUrl","roomID","admin","then","response","alert","catch","err","console","log","pauseGame","socket","connectSocket","username","room","on","emit","m","number","handleLeaderBoard","handleDisconnect","handleInputModal","handleInterval","text","isAdmin","styles","container","adminTitle","adminSubtext","board","textWrap","noOfTitle","buttonWrap","buttonstart","buttonText","buttonpause","buttonlb","buttondisconnect","StyleSheet","create","flex","backgroundColor","height","width","padding","marginTop","alignSelf","fontFamily","color","marginLeft","marginBottom","fontSize","borderRadius","justifyContent","alignItems","flexDirection","disconnectButton","stack2","marginRight"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  StatusBar,\n  Text,\n  TouchableOpacity,\n  ScrollView,\n  Modal,\n} from \"react-native\";\nimport Board from \"./components/Board\";\nimport Leaderboard from \"./Leaderboard\";\nimport Disconnect from \"./Disconnect\";\nimport InputModal from \"./InputModal\";\n\nimport env from \"../../variable\";\nimport Global from \"../../utility/Global\";\nimport { useNavigation } from \"@react-navigation/native\";\nconst io = require(\"socket.io-client\");\nconst axios = require(\"axios\");\n\nfunction AdminGame(props) {\n  const [leaderboardModal, setleaderboardModal] = useState(false);\n  const [disconnectModal, setdisconnectModal] = useState(false);\n  const [inputModal, setinputModal] = useState(false);\n  const [currentCalling, setCurrentCalling] = useState(0);\n  const [gameOver, setgameOver] = useState(false);\n  const [done, setdone] = useState([]);\n  const [interval, setinterval] = useState(10);\n  const navigation = useNavigation();\n\n  const startGame = () => {\n    axios\n      .post(env.apiUrl + \"/game/startGame\", {\n        roomID: Global.admin.roomID,\n        interval: interval || 15,\n      })\n      .then(function (response) {\n        if (response === true) {\n          alert(\"Game started!\");\n        } else {\n          alert(\"Game encountered an error\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const pauseGame = () => {\n    axios\n      .post(env.apiUrl + \"/game/pauseGame\", {\n        roomID: Global.admin.roomID,\n      })\n      .then(function (response) {\n        if (response === true) {\n          alert(\"Game paused\");\n        } else {\n          alert(\"Game encountered an error\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    const socket = io(env.apiUrl);\n    function connectSocket(username, room) {\n      socket.on(\"connect\", function () {\n        console.log(\"Connected to the WS server\");\n        socket.emit(\"room\", { username: username, room: room });\n      });\n    }\n    connectSocket(\"admin\", Global.admin.roomID);\n\n    socket.on(\"broadcast\", (m) => {\n      console.log(m);\n      setCurrentCalling(m.number);\n      setgameOver(m.gameOver);\n      setdone(m.done);\n    });\n  }, []);\n\n  const handleLeaderBoard = () => {\n    setleaderboardModal(!leaderboardModal);\n  };\n  const handleDisconnect = () => {\n    setdisconnectModal(!disconnectModal);\n  };\n  const handleInputModal = () => {\n    setinputModal(!inputModal);\n  };\n  const handleInterval = (text) => {\n    setinterval(text);\n  };\n  if (gameOver === true) {\n    Global.admin.isAdmin = false;\n    Global.admin.roomID = null;\n  }\n\n  return (\n    <ScrollView style={styles.container}>\n      <Modal\n        animationType=\"fade\"\n        transparent={false}\n        visible={leaderboardModal}\n        onRequestClose={() => {\n          setleaderboardModal(false);\n        }}\n      >\n        <Leaderboard />\n      </Modal>\n      <Modal\n        animationType=\"fade\"\n        transparent={false}\n        visible={inputModal}\n        onRequestClose={() => {\n          setinputModal(false);\n        }}\n      >\n        <InputModal\n          updateInterval={handleInterval}\n          handleInputModal={handleInputModal}\n          startGame={startGame}\n        />\n      </Modal>\n\n      <Modal\n        animationType=\"fade\"\n        transparent={false}\n        visible={disconnectModal}\n        onRequestClose={() => {\n          setdisconnectModal(false);\n        }}\n      >\n        <Disconnect />\n      </Modal>\n\n      <StatusBar hidden />\n      <Text style={styles.adminTitle}>\n        Admin Control for {Global.admin.roomID}\n      </Text>\n      <Text style={styles.adminSubtext}>Overview of the on-going game</Text>\n      <Board done={done} style={styles.board}></Board>\n      <View style={styles.textWrap}>\n        <Text style={styles.noOfTitle}>\n          Number of participants connected: 50\n        </Text>\n        <Text style={styles.noOfTitle}>\n          Current Calling Number: {currentCalling}{\" \"}\n        </Text>\n        <Text style={styles.noOfTitle}>\n          Gameover: {gameOver ? \"Yes\" : \"No\"}{\" \"}\n        </Text>\n      </View>\n\n      <View style={styles.buttonWrap}>\n        <TouchableOpacity style={styles.buttonstart} onPress={handleInputModal}>\n          <Text style={styles.buttonText}>Start Game</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity style={styles.buttonpause}>\n          <Text style={styles.buttonText}>Pause Game</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity style={styles.buttonlb} onPress={handleLeaderBoard}>\n          <Text style={styles.buttonText}>Leaderboard</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity\n          style={styles.buttondisconnect}\n          onPress={handleDisconnect}\n        >\n          <Text style={styles.buttonText}>Disconnect</Text>\n        </TouchableOpacity>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"rgba(227,214,214,1)\",\n  },\n  board: {\n    height: 350,\n    width: 375,\n    padding: 4,\n    marginTop: 14,\n\n    alignSelf: \"center\",\n  },\n\n  noOfTitle: {\n    fontFamily: \"roboto-500\",\n    color: \"#121212\",\n    marginLeft: 20,\n    marginTop: 15,\n  },\n  textWrap: {\n    marginBottom: 30,\n  },\n\n  adminTitle: {\n    fontFamily: \"roboto-900\",\n    color: \"#121212\",\n    fontSize: 25,\n    marginTop: 50,\n    marginLeft: 14,\n  },\n\n  buttonstart: {\n    backgroundColor: \"rgba(67,205,76,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  buttonpause: {\n    backgroundColor: \"rgba(242,163,101,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  buttonlb: {\n    backgroundColor: \"rgba(242,163,101,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  buttondisconnect: {\n    backgroundColor: \"rgba(208,2,27,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  buttonText: {\n    fontSize: 14,\n    color: \"white\",\n    fontFamily: \"roboto-500\",\n  },\n  buttonWrap: {\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    marginBottom: 15,\n  },\n\n  disconnectButton: {\n    backgroundColor: \"rgba(208,2,27,1)\",\n    borderRadius: 5,\n  },\n\n  stack2: {\n    height: 16,\n    flexDirection: \"row\",\n    marginTop: 10,\n    marginLeft: 48,\n    marginRight: 74,\n  },\n  adminSubtext: {\n    fontFamily: \"roboto-regular\",\n    color: \"#121212\",\n    marginTop: 12,\n    marginLeft: 15,\n  },\n});\n\nexport default AdminGame;\n"]},"metadata":{},"sourceType":"module"}