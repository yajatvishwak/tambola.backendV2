{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/media/yajat-vishwakk/MainHDD/Coding/Projects/TambolaV2/frontend/Tambola/app/Admin/AdminGame.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Board from \"./components/Board\";\nimport Leaderboard from \"./Leaderboard\";\nimport Disconnect from \"./Disconnect\";\nimport InputModal from \"./InputModal\";\nimport { AdMobBanner } from \"expo-ads-admob\";\n\nvar AsyncStore = require(\"../../utility/AsyncStore\");\n\nimport env from \"../../variable\";\nimport Global from \"../../utility/Global\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nvar io = require(\"socket.io-client\");\n\nvar axios = require(\"axios\");\n\nfunction AdminGame(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      leaderboardModal = _useState2[0],\n      setleaderboardModal = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      disconnectModal = _useState4[0],\n      setdisconnectModal = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      inputModal = _useState6[0],\n      setinputModal = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      currentCalling = _useState8[0],\n      setCurrentCalling = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      gameOver = _useState10[0],\n      setgameOver = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      done = _useState12[0],\n      setdone = _useState12[1];\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray(_useState13, 2),\n      connected = _useState14[0],\n      setconnected = _useState14[1];\n\n  var _useState15 = useState(10),\n      _useState16 = _slicedToArray(_useState15, 2),\n      interval = _useState16[0],\n      setinterval = _useState16[1];\n\n  var navigation = useNavigation();\n\n  var startGame = function startGame() {\n    axios.post(env.apiUrl + \"/game/startGame\", {\n      roomID: Global.admin.roomID,\n      interval: interval || 15\n    }).then(function (response) {\n      if (response.data === true) {\n        alert(\"Game started!\");\n      } else {\n        alert(\"Game encountered an error\");\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var pauseGame = function pauseGame() {\n    axios.post(env.apiUrl + \"/game/pauseGame\", {\n      roomID: Global.admin.roomID\n    }).then(function (response) {\n      if (response.data === true) {\n        alert(\"Game paused\");\n      } else {\n        alert(\"Game encountered an error\");\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  useEffect(function () {\n    var socket = io(env.apiUrl);\n\n    function connectSocket(username, room) {\n      socket.on(\"connect\", function () {\n        console.log(\"Connected to the WS server\");\n        socket.emit(\"room\", {\n          username: username,\n          room: room\n        });\n      });\n    }\n\n    connectSocket(\"admin\", Global.admin.roomID);\n    socket.on(\"broadcast\", function (m) {\n      console.log(m);\n      setCurrentCalling(m.number);\n      setgameOver(m.gameOver);\n      setdone(m.done);\n      setconnected(m.connected);\n    });\n  }, []);\n\n  var handleLeaderBoard = function handleLeaderBoard() {\n    setleaderboardModal(!leaderboardModal);\n  };\n\n  var handleDisconnect = function handleDisconnect() {\n    setdisconnectModal(!disconnectModal);\n  };\n\n  var handleInputModal = function handleInputModal() {\n    setinputModal(!inputModal);\n  };\n\n  var handleInterval = function handleInterval(text) {\n    setinterval(text);\n  };\n\n  if (gameOver === true) {\n    Global.admin.isAdmin = false;\n    Global.admin.roomID = null;\n    AsyncStore.storeData(Global);\n  }\n\n  return React.createElement(ScrollView, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: false,\n    visible: leaderboardModal,\n    onRequestClose: function onRequestClose() {\n      setleaderboardModal(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, React.createElement(Leaderboard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  })), React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: false,\n    visible: inputModal,\n    onRequestClose: function onRequestClose() {\n      setinputModal(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, React.createElement(InputModal, {\n    updateInterval: handleInterval,\n    handleInputModal: handleInputModal,\n    startGame: startGame,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  })), React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: false,\n    visible: disconnectModal,\n    onRequestClose: function onRequestClose() {\n      setdisconnectModal(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, React.createElement(Disconnect, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: {\n      alignSelf: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, React.createElement(AdMobBanner, {\n    bannerSize: \"fullBanner\",\n    adUnitID: \"ca-app-pub-7508456089542607/4022655933\",\n    servePersonalizedAds: true,\n    onDidFailToReceiveAdWithError: function onDidFailToReceiveAdWithError(bannerError) {\n      return console.log(bannerError);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  })), React.createElement(StatusBar, {\n    hidden: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: styles.adminTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, \"Admin Control for \", Global.admin.roomID), React.createElement(Text, {\n    style: styles.adminSubtext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, \"Overview of the on-going game\"), React.createElement(Board, {\n    done: done,\n    style: styles.board,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.textWrap,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.noOfTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, \"Number of participants signed up: \", connected), React.createElement(Text, {\n    style: styles.noOfTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, \"Current Calling Number: \", currentCalling, \" \"), React.createElement(Text, {\n    style: styles.noOfTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, \"Gameover: \", gameOver ? \"Yes\" : \"No\", \" \")), React.createElement(View, {\n    style: styles.buttonWrap,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.buttonstart,\n    onPress: handleInputModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, \"Start Game\")), React.createElement(TouchableOpacity, {\n    style: styles.buttonpause,\n    onPress: pauseGame,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, \"Pause Game\")), React.createElement(TouchableOpacity, {\n    style: styles.buttonlb,\n    onPress: handleLeaderBoard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, \"Leaderboard\")), React.createElement(TouchableOpacity, {\n    style: styles.buttondisconnect,\n    onPress: handleDisconnect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, \"Disconnect\"))));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"rgba(227,214,214,1)\"\n  },\n  board: {\n    height: 350,\n    width: 375,\n    padding: 4,\n    marginTop: 14,\n    alignSelf: \"center\"\n  },\n  noOfTitle: {\n    fontFamily: \"roboto-500\",\n    color: \"#121212\",\n    marginLeft: 20,\n    marginTop: 15\n  },\n  textWrap: {\n    marginBottom: 30\n  },\n  adminTitle: {\n    fontFamily: \"roboto-900\",\n    color: \"#121212\",\n    fontSize: 25,\n    marginTop: 50,\n    marginLeft: 14\n  },\n  buttonstart: {\n    backgroundColor: \"rgba(67,205,76,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  buttonpause: {\n    backgroundColor: \"rgba(242,163,101,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  buttonlb: {\n    backgroundColor: \"rgba(242,163,101,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  buttondisconnect: {\n    backgroundColor: \"rgba(208,2,27,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  buttonText: {\n    fontSize: 14,\n    color: \"white\",\n    fontFamily: \"roboto-500\"\n  },\n  buttonWrap: {\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    marginBottom: 15\n  },\n  disconnectButton: {\n    backgroundColor: \"rgba(208,2,27,1)\",\n    borderRadius: 5\n  },\n  stack2: {\n    height: 16,\n    flexDirection: \"row\",\n    marginTop: 10,\n    marginLeft: 48,\n    marginRight: 74\n  },\n  adminSubtext: {\n    fontFamily: \"roboto-regular\",\n    color: \"#121212\",\n    marginTop: 12,\n    marginLeft: 15\n  }\n});\nexport default AdminGame;","map":{"version":3,"sources":["/media/yajat-vishwakk/MainHDD/Coding/Projects/TambolaV2/frontend/Tambola/app/Admin/AdminGame.js"],"names":["React","Component","useState","useEffect","Board","Leaderboard","Disconnect","InputModal","AdMobBanner","AsyncStore","require","env","Global","useNavigation","io","axios","AdminGame","props","leaderboardModal","setleaderboardModal","disconnectModal","setdisconnectModal","inputModal","setinputModal","currentCalling","setCurrentCalling","gameOver","setgameOver","done","setdone","connected","setconnected","interval","setinterval","navigation","startGame","post","apiUrl","roomID","admin","then","response","data","alert","catch","err","console","log","pauseGame","socket","connectSocket","username","room","on","emit","m","number","handleLeaderBoard","handleDisconnect","handleInputModal","handleInterval","text","isAdmin","storeData","styles","container","alignSelf","bannerError","adminTitle","adminSubtext","board","textWrap","noOfTitle","buttonWrap","buttonstart","buttonText","buttonpause","buttonlb","buttondisconnect","StyleSheet","create","flex","backgroundColor","height","width","padding","marginTop","fontFamily","color","marginLeft","marginBottom","fontSize","borderRadius","justifyContent","alignItems","flexDirection","disconnectButton","stack2","marginRight"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;;;;;;;;AAUA,OAAOC,KAAP;AACA,OAAOC,WAAP;AACA,OAAOC,UAAP;AACA,OAAOC,UAAP;AACA,SAASC,WAAT,QAA4B,gBAA5B;;AACA,IAAMC,UAAU,GAAGC,OAAO,4BAA1B;;AAEA,OAAOC,GAAP;AACA,OAAOC,MAAP;AACA,SAASC,aAAT,QAA8B,0BAA9B;;AAEA,IAAMC,EAAE,GAAGJ,OAAO,CAAC,kBAAD,CAAlB;;AACA,IAAMK,KAAK,GAAGL,OAAO,CAAC,OAAD,CAArB;;AAEA,SAASM,SAAT,CAAmBC,KAAnB,EAA0B;AAAA,kBACwBf,QAAQ,CAAC,KAAD,CADhC;AAAA;AAAA,MACjBgB,gBADiB;AAAA,MACCC,mBADD;;AAAA,mBAEsBjB,QAAQ,CAAC,KAAD,CAF9B;AAAA;AAAA,MAEjBkB,eAFiB;AAAA,MAEAC,kBAFA;;AAAA,mBAGYnB,QAAQ,CAAC,KAAD,CAHpB;AAAA;AAAA,MAGjBoB,UAHiB;AAAA,MAGLC,aAHK;;AAAA,mBAIoBrB,QAAQ,CAAC,CAAD,CAJ5B;AAAA;AAAA,MAIjBsB,cAJiB;AAAA,MAIDC,iBAJC;;AAAA,mBAKQvB,QAAQ,CAAC,KAAD,CALhB;AAAA;AAAA,MAKjBwB,QALiB;AAAA,MAKPC,WALO;;AAAA,oBAMAzB,QAAQ,CAAC,EAAD,CANR;AAAA;AAAA,MAMjB0B,IANiB;AAAA,MAMXC,OANW;;AAAA,oBAOU3B,QAAQ,CAAC,CAAD,CAPlB;AAAA;AAAA,MAOjB4B,SAPiB;AAAA,MAONC,YAPM;;AAAA,oBAQQ7B,QAAQ,CAAC,EAAD,CARhB;AAAA;AAAA,MAQjB8B,QARiB;AAAA,MAQPC,WARO;;AASxB,MAAMC,UAAU,GAAGrB,aAAa,EAAhC;;AAEA,MAAMsB,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBpB,IAAAA,KAAK,CACFqB,IADH,CACQzB,GAAG,CAAC0B,MAAJ,GAAa,iBADrB,EACwC;AACpCC,MAAAA,MAAM,EAAE1B,MAAM,CAAC2B,KAAP,CAAaD,MADe;AAEpCN,MAAAA,QAAQ,EAAEA,QAAQ,IAAI;AAFc,KADxC,EAKGQ,IALH,CAKQ,UAAUC,QAAV,EAAoB;AACxB,UAAIA,QAAQ,CAACC,IAAT,KAAkB,IAAtB,EAA4B;AAC1BC,QAAAA,KAAK,CAAC,eAAD,CAAL;AACD,OAFD,MAEO;AACLA,QAAAA,KAAK,CAAC,2BAAD,CAAL;AACD;AACF,KAXH,EAYGC,KAZH,CAYS,UAACC,GAAD,EAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAdH;AAeD,GAhBD;;AAiBA,MAAMG,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBjC,IAAAA,KAAK,CACFqB,IADH,CACQzB,GAAG,CAAC0B,MAAJ,GAAa,iBADrB,EACwC;AACpCC,MAAAA,MAAM,EAAE1B,MAAM,CAAC2B,KAAP,CAAaD;AADe,KADxC,EAIGE,IAJH,CAIQ,UAAUC,QAAV,EAAoB;AACxB,UAAIA,QAAQ,CAACC,IAAT,KAAkB,IAAtB,EAA4B;AAC1BC,QAAAA,KAAK,CAAC,aAAD,CAAL;AACD,OAFD,MAEO;AACLA,QAAAA,KAAK,CAAC,2BAAD,CAAL;AACD;AACF,KAVH,EAWGC,KAXH,CAWS,UAACC,GAAD,EAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAbH;AAcD,GAfD;;AAiBA1C,EAAAA,SAAS,CAAC,YAAM;AACd,QAAM8C,MAAM,GAAGnC,EAAE,CAACH,GAAG,CAAC0B,MAAL,CAAjB;;AACA,aAASa,aAAT,CAAuBC,QAAvB,EAAiCC,IAAjC,EAAuC;AACrCH,MAAAA,MAAM,CAACI,EAAP,CAAU,SAAV,EAAqB,YAAY;AAC/BP,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACAE,QAAAA,MAAM,CAACK,IAAP,CAAY,MAAZ,EAAoB;AAAEH,UAAAA,QAAQ,EAAEA,QAAZ;AAAsBC,UAAAA,IAAI,EAAEA;AAA5B,SAApB;AACD,OAHD;AAID;;AACDF,IAAAA,aAAa,CAAC,OAAD,EAAUtC,MAAM,CAAC2B,KAAP,CAAaD,MAAvB,CAAb;AAEAW,IAAAA,MAAM,CAACI,EAAP,CAAU,WAAV,EAAuB,UAACE,CAAD,EAAO;AAC5BT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,CAAZ;AACA9B,MAAAA,iBAAiB,CAAC8B,CAAC,CAACC,MAAH,CAAjB;AACA7B,MAAAA,WAAW,CAAC4B,CAAC,CAAC7B,QAAH,CAAX;AACAG,MAAAA,OAAO,CAAC0B,CAAC,CAAC3B,IAAH,CAAP;AACAG,MAAAA,YAAY,CAACwB,CAAC,CAACzB,SAAH,CAAZ;AACD,KAND;AAOD,GAjBQ,EAiBN,EAjBM,CAAT;;AAmBA,MAAM2B,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9BtC,IAAAA,mBAAmB,CAAC,CAACD,gBAAF,CAAnB;AACD,GAFD;;AAGA,MAAMwC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BrC,IAAAA,kBAAkB,CAAC,CAACD,eAAF,CAAlB;AACD,GAFD;;AAGA,MAAMuC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BpC,IAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACD,GAFD;;AAGA,MAAMsC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD,EAAU;AAC/B5B,IAAAA,WAAW,CAAC4B,IAAD,CAAX;AACD,GAFD;;AAGA,MAAInC,QAAQ,KAAK,IAAjB,EAAuB;AACrBd,IAAAA,MAAM,CAAC2B,KAAP,CAAauB,OAAb,GAAuB,KAAvB;AACAlD,IAAAA,MAAM,CAAC2B,KAAP,CAAaD,MAAb,GAAsB,IAAtB;AACA7B,IAAAA,UAAU,CAACsD,SAAX,CAAqBnD,MAArB;AACD;;AAED,SACE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAEoD,MAAM,CAACC,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AACE,IAAA,aAAa,EAAC,MADhB;AAEE,IAAA,WAAW,EAAE,KAFf;AAGE,IAAA,OAAO,EAAE/C,gBAHX;AAIE,IAAA,cAAc,EAAE,0BAAM;AACpBC,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF,EAWE,oBAAC,KAAD;AACE,IAAA,aAAa,EAAC,MADhB;AAEE,IAAA,WAAW,EAAE,KAFf;AAGE,IAAA,OAAO,EAAEG,UAHX;AAIE,IAAA,cAAc,EAAE,0BAAM;AACpBC,MAAAA,aAAa,CAAC,KAAD,CAAb;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,oBAAC,UAAD;AACE,IAAA,cAAc,EAAEqC,cADlB;AAEE,IAAA,gBAAgB,EAAED,gBAFpB;AAGE,IAAA,SAAS,EAAExB,SAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CAXF,EA0BE,oBAAC,KAAD;AACE,IAAA,aAAa,EAAC,MADhB;AAEE,IAAA,WAAW,EAAE,KAFf;AAGE,IAAA,OAAO,EAAEf,eAHX;AAIE,IAAA,cAAc,EAAE,0BAAM;AACpBC,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CA1BF,EAoCE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACL6C,MAAAA,SAAS,EAAE;AADN,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,WAAD;AACE,IAAA,UAAU,EAAC,YADb;AAEE,IAAA,QAAQ,EAAC,wCAFX;AAGE,IAAA,oBAAoB,MAHtB;AAIE,IAAA,6BAA6B,EAAE,uCAACC,WAAD;AAAA,aAC7BrB,OAAO,CAACC,GAAR,CAAYoB,WAAZ,CAD6B;AAAA,KAJjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CApCF,EAmDE,oBAAC,SAAD;AAAW,IAAA,MAAM,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnDF,EAoDE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEH,MAAM,CAACI,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACqBxD,MAAM,CAAC2B,KAAP,CAAaD,MADlC,CApDF,EAuDE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE0B,MAAM,CAACK,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAvDF,EAwDE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAEzC,IAAb;AAAmB,IAAA,KAAK,EAAEoC,MAAM,CAACM,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxDF,EAyDE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEN,MAAM,CAACO,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEP,MAAM,CAACQ,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACqC1C,SADrC,CADF,EAIE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEkC,MAAM,CAACQ,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAC2BhD,cAD3B,EAC2C,GAD3C,CAJF,EAOE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEwC,MAAM,CAACQ,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACa9C,QAAQ,GAAG,KAAH,GAAW,IADhC,EACsC,GADtC,CAPF,CAzDF,EAqEE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEsC,MAAM,CAACS,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAET,MAAM,CAACU,WAAhC;AAA6C,IAAA,OAAO,EAAEf,gBAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEK,MAAM,CAACW,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,EAKE,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAEX,MAAM,CAACY,WAAhC;AAA6C,IAAA,OAAO,EAAE5B,SAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEgB,MAAM,CAACW,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CALF,EASE,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAEX,MAAM,CAACa,QAAhC;AAA0C,IAAA,OAAO,EAAEpB,iBAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEO,MAAM,CAACW,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CATF,EAaE,oBAAC,gBAAD;AACE,IAAA,KAAK,EAAEX,MAAM,CAACc,gBADhB;AAEE,IAAA,OAAO,EAAEpB,gBAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEM,MAAM,CAACW,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,CAbF,CArEF,CADF;AA4FD;;AAED,IAAMX,MAAM,GAAGe,UAAU,CAACC,MAAX,CAAkB;AAC/Bf,EAAAA,SAAS,EAAE;AACTgB,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,eAAe,EAAE;AAFR,GADoB;AAK/BZ,EAAAA,KAAK,EAAE;AACLa,IAAAA,MAAM,EAAE,GADH;AAELC,IAAAA,KAAK,EAAE,GAFF;AAGLC,IAAAA,OAAO,EAAE,CAHJ;AAILC,IAAAA,SAAS,EAAE,EAJN;AAMLpB,IAAAA,SAAS,EAAE;AANN,GALwB;AAc/BM,EAAAA,SAAS,EAAE;AACTe,IAAAA,UAAU,EAAE,YADH;AAETC,IAAAA,KAAK,EAAE,SAFE;AAGTC,IAAAA,UAAU,EAAE,EAHH;AAITH,IAAAA,SAAS,EAAE;AAJF,GAdoB;AAoB/Bf,EAAAA,QAAQ,EAAE;AACRmB,IAAAA,YAAY,EAAE;AADN,GApBqB;AAwB/BtB,EAAAA,UAAU,EAAE;AACVmB,IAAAA,UAAU,EAAE,YADF;AAEVC,IAAAA,KAAK,EAAE,SAFG;AAGVG,IAAAA,QAAQ,EAAE,EAHA;AAIVL,IAAAA,SAAS,EAAE,EAJD;AAKVG,IAAAA,UAAU,EAAE;AALF,GAxBmB;AAgC/Bf,EAAAA,WAAW,EAAE;AACXQ,IAAAA,eAAe,EAAE,mBADN;AAEXU,IAAAA,YAAY,EAAE,CAFH;AAGXR,IAAAA,KAAK,EAAE,GAHI;AAIXD,IAAAA,MAAM,EAAE,EAJG;AAKXU,IAAAA,cAAc,EAAE,QALL;AAMXC,IAAAA,UAAU,EAAE;AAND,GAhCkB;AAwC/BlB,EAAAA,WAAW,EAAE;AACXM,IAAAA,eAAe,EAAE,qBADN;AAEXU,IAAAA,YAAY,EAAE,CAFH;AAGXR,IAAAA,KAAK,EAAE,GAHI;AAIXD,IAAAA,MAAM,EAAE,EAJG;AAKXU,IAAAA,cAAc,EAAE,QALL;AAMXC,IAAAA,UAAU,EAAE;AAND,GAxCkB;AAgD/BjB,EAAAA,QAAQ,EAAE;AACRK,IAAAA,eAAe,EAAE,qBADT;AAERU,IAAAA,YAAY,EAAE,CAFN;AAGRR,IAAAA,KAAK,EAAE,GAHC;AAIRD,IAAAA,MAAM,EAAE,EAJA;AAKRU,IAAAA,cAAc,EAAE,QALR;AAMRC,IAAAA,UAAU,EAAE;AANJ,GAhDqB;AAwD/BhB,EAAAA,gBAAgB,EAAE;AAChBI,IAAAA,eAAe,EAAE,kBADD;AAEhBU,IAAAA,YAAY,EAAE,CAFE;AAGhBR,IAAAA,KAAK,EAAE,GAHS;AAIhBD,IAAAA,MAAM,EAAE,EAJQ;AAKhBU,IAAAA,cAAc,EAAE,QALA;AAMhBC,IAAAA,UAAU,EAAE;AANI,GAxDa;AAgE/BnB,EAAAA,UAAU,EAAE;AACVgB,IAAAA,QAAQ,EAAE,EADA;AAEVH,IAAAA,KAAK,EAAE,OAFG;AAGVD,IAAAA,UAAU,EAAE;AAHF,GAhEmB;AAqE/Bd,EAAAA,UAAU,EAAE;AACVQ,IAAAA,IAAI,EAAE,CADI;AAEVc,IAAAA,aAAa,EAAE,KAFL;AAGVF,IAAAA,cAAc,EAAE,cAHN;AAIVH,IAAAA,YAAY,EAAE;AAJJ,GArEmB;AA4E/BM,EAAAA,gBAAgB,EAAE;AAChBd,IAAAA,eAAe,EAAE,kBADD;AAEhBU,IAAAA,YAAY,EAAE;AAFE,GA5Ea;AAiF/BK,EAAAA,MAAM,EAAE;AACNd,IAAAA,MAAM,EAAE,EADF;AAENY,IAAAA,aAAa,EAAE,KAFT;AAGNT,IAAAA,SAAS,EAAE,EAHL;AAING,IAAAA,UAAU,EAAE,EAJN;AAKNS,IAAAA,WAAW,EAAE;AALP,GAjFuB;AAwF/B7B,EAAAA,YAAY,EAAE;AACZkB,IAAAA,UAAU,EAAE,gBADA;AAEZC,IAAAA,KAAK,EAAE,SAFK;AAGZF,IAAAA,SAAS,EAAE,EAHC;AAIZG,IAAAA,UAAU,EAAE;AAJA;AAxFiB,CAAlB,CAAf;AAgGA,eAAezE,SAAf","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  StatusBar,\n  Text,\n  TouchableOpacity,\n  ScrollView,\n  Modal,\n} from \"react-native\";\nimport Board from \"./components/Board\";\nimport Leaderboard from \"./Leaderboard\";\nimport Disconnect from \"./Disconnect\";\nimport InputModal from \"./InputModal\";\nimport { AdMobBanner } from \"expo-ads-admob\";\nconst AsyncStore = require(\"../../utility/AsyncStore\");\n\nimport env from \"../../variable\";\nimport Global from \"../../utility/Global\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nconst io = require(\"socket.io-client\");\nconst axios = require(\"axios\");\n\nfunction AdminGame(props) {\n  const [leaderboardModal, setleaderboardModal] = useState(false);\n  const [disconnectModal, setdisconnectModal] = useState(false);\n  const [inputModal, setinputModal] = useState(false);\n  const [currentCalling, setCurrentCalling] = useState(0);\n  const [gameOver, setgameOver] = useState(false);\n  const [done, setdone] = useState([]);\n  const [connected, setconnected] = useState(0);\n  const [interval, setinterval] = useState(10);\n  const navigation = useNavigation();\n\n  const startGame = () => {\n    axios\n      .post(env.apiUrl + \"/game/startGame\", {\n        roomID: Global.admin.roomID,\n        interval: interval || 15,\n      })\n      .then(function (response) {\n        if (response.data === true) {\n          alert(\"Game started!\");\n        } else {\n          alert(\"Game encountered an error\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const pauseGame = () => {\n    axios\n      .post(env.apiUrl + \"/game/pauseGame\", {\n        roomID: Global.admin.roomID,\n      })\n      .then(function (response) {\n        if (response.data === true) {\n          alert(\"Game paused\");\n        } else {\n          alert(\"Game encountered an error\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    const socket = io(env.apiUrl);\n    function connectSocket(username, room) {\n      socket.on(\"connect\", function () {\n        console.log(\"Connected to the WS server\");\n        socket.emit(\"room\", { username: username, room: room });\n      });\n    }\n    connectSocket(\"admin\", Global.admin.roomID);\n\n    socket.on(\"broadcast\", (m) => {\n      console.log(m);\n      setCurrentCalling(m.number);\n      setgameOver(m.gameOver);\n      setdone(m.done);\n      setconnected(m.connected);\n    });\n  }, []);\n\n  const handleLeaderBoard = () => {\n    setleaderboardModal(!leaderboardModal);\n  };\n  const handleDisconnect = () => {\n    setdisconnectModal(!disconnectModal);\n  };\n  const handleInputModal = () => {\n    setinputModal(!inputModal);\n  };\n  const handleInterval = (text) => {\n    setinterval(text);\n  };\n  if (gameOver === true) {\n    Global.admin.isAdmin = false;\n    Global.admin.roomID = null;\n    AsyncStore.storeData(Global);\n  }\n\n  return (\n    <ScrollView style={styles.container}>\n      <Modal\n        animationType=\"fade\"\n        transparent={false}\n        visible={leaderboardModal}\n        onRequestClose={() => {\n          setleaderboardModal(false);\n        }}\n      >\n        <Leaderboard />\n      </Modal>\n      <Modal\n        animationType=\"fade\"\n        transparent={false}\n        visible={inputModal}\n        onRequestClose={() => {\n          setinputModal(false);\n        }}\n      >\n        <InputModal\n          updateInterval={handleInterval}\n          handleInputModal={handleInputModal}\n          startGame={startGame}\n        />\n      </Modal>\n\n      <Modal\n        animationType=\"fade\"\n        transparent={false}\n        visible={disconnectModal}\n        onRequestClose={() => {\n          setdisconnectModal(false);\n        }}\n      >\n        <Disconnect />\n      </Modal>\n      <View\n        style={{\n          alignSelf: \"center\",\n        }}\n      >\n        <AdMobBanner\n          bannerSize=\"fullBanner\"\n          adUnitID=\"ca-app-pub-7508456089542607/4022655933\"\n          servePersonalizedAds\n          onDidFailToReceiveAdWithError={(bannerError) =>\n            console.log(bannerError)\n          }\n        />\n      </View>\n\n      <StatusBar hidden />\n      <Text style={styles.adminTitle}>\n        Admin Control for {Global.admin.roomID}\n      </Text>\n      <Text style={styles.adminSubtext}>Overview of the on-going game</Text>\n      <Board done={done} style={styles.board}></Board>\n      <View style={styles.textWrap}>\n        <Text style={styles.noOfTitle}>\n          Number of participants signed up: {connected}\n        </Text>\n        <Text style={styles.noOfTitle}>\n          Current Calling Number: {currentCalling}{\" \"}\n        </Text>\n        <Text style={styles.noOfTitle}>\n          Gameover: {gameOver ? \"Yes\" : \"No\"}{\" \"}\n        </Text>\n      </View>\n\n      <View style={styles.buttonWrap}>\n        <TouchableOpacity style={styles.buttonstart} onPress={handleInputModal}>\n          <Text style={styles.buttonText}>Start Game</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity style={styles.buttonpause} onPress={pauseGame}>\n          <Text style={styles.buttonText}>Pause Game</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity style={styles.buttonlb} onPress={handleLeaderBoard}>\n          <Text style={styles.buttonText}>Leaderboard</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity\n          style={styles.buttondisconnect}\n          onPress={handleDisconnect}\n        >\n          <Text style={styles.buttonText}>Disconnect</Text>\n        </TouchableOpacity>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"rgba(227,214,214,1)\",\n  },\n  board: {\n    height: 350,\n    width: 375,\n    padding: 4,\n    marginTop: 14,\n\n    alignSelf: \"center\",\n  },\n\n  noOfTitle: {\n    fontFamily: \"roboto-500\",\n    color: \"#121212\",\n    marginLeft: 20,\n    marginTop: 15,\n  },\n  textWrap: {\n    marginBottom: 30,\n  },\n\n  adminTitle: {\n    fontFamily: \"roboto-900\",\n    color: \"#121212\",\n    fontSize: 25,\n    marginTop: 50,\n    marginLeft: 14,\n  },\n\n  buttonstart: {\n    backgroundColor: \"rgba(67,205,76,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  buttonpause: {\n    backgroundColor: \"rgba(242,163,101,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  buttonlb: {\n    backgroundColor: \"rgba(242,163,101,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  buttondisconnect: {\n    backgroundColor: \"rgba(208,2,27,1)\",\n    borderRadius: 5,\n    width: 100,\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  buttonText: {\n    fontSize: 14,\n    color: \"white\",\n    fontFamily: \"roboto-500\",\n  },\n  buttonWrap: {\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    marginBottom: 15,\n  },\n\n  disconnectButton: {\n    backgroundColor: \"rgba(208,2,27,1)\",\n    borderRadius: 5,\n  },\n\n  stack2: {\n    height: 16,\n    flexDirection: \"row\",\n    marginTop: 10,\n    marginLeft: 48,\n    marginRight: 74,\n  },\n  adminSubtext: {\n    fontFamily: \"roboto-regular\",\n    color: \"#121212\",\n    marginTop: 12,\n    marginLeft: 15,\n  },\n});\n\nexport default AdminGame;\n"]},"metadata":{},"sourceType":"module"}